<div class="container">
    <!-- Custom Success/Error Message -->
    <div class="show-hide-message">
        <div [ngClass]="messageClass">
            {{ message }}
        </div>
    </div>
    <div class="shop-menu">
        <ul class="myBtnContainer d-flex flex-wrap">
            <li class="btn" [ngClass]="{'active': category === 1 }" (click)="category = 1" (click)="getItems([{name: 'category', info: null}])">All Products</li>
            <li class="btn" [ngClass]="{'active': category === 2 }" (click)="category = 2" (click)="getItems([{name: 'category', info: 'women'}])">Women</li>
            <li class="btn" [ngClass]="{'active': category === 3 }" (click)="category = 3" (click)="getItems([{name: 'category', info: 'men'}])">Men</li>
            <li class="btn" [ngClass]="{'active': category === 4 }" (click)="category = 4" (click)="getItems([{name: 'category', info: 'accesories'}])">Accesories</li>
        </ul>
        <div class="shop-filter">
            <div class="filter-button" data-toggle="collapse" data-target="#footwear" aria-expanded="false" aria-controls="footwear">Filter</div>
        </div>
    </div>
    <div class="collapse" id="footwear">
        <div class="container">
            <div class="row">
                <div class="collapse-describe col-6	col-sm-6 col-md-3 col-lg-3 col-xl-3">
                    <ul>
                        <li class="sortBy">Sort By</li>
                        <li class="sortBy" [ngClass]="{'active': sortBy === 1 }" (click)="sortBy = 1" (click)="getItems([{name: 'order_by', info: null},{name: 'sort_by', info: null}])">Default</li>
                        <li class="sortBy" [ngClass]="{'active': sortBy === 2 }" (click)="sortBy = 2">Popularity</li>
                        <li class="sortBy" [ngClass]="{'active': sortBy === 3 }" (click)="sortBy = 3" (click)="getItems([{name: 'order_by', info: 'desc'}, {name: 'sort_by', info: 'quantity'}])">Quantity in stock</li>
                        <li class="sortBy" [ngClass]="{'active': sortBy === 4 }" (click)="sortBy = 4" (click)="getItems([{name: 'order_by', info: 'asc'},{name: 'sort_by', info: 'price'}])">Price: Low to Hight</li>
                        <li class="sortBy" [ngClass]="{'active': sortBy === 5 }" (click)="sortBy = 5" (click)="getItems([{name: 'order_by', info: 'desc'},{name: 'sort_by', info: 'price'}])">Price: High to Low</li>
                    </ul>
                </div>
                <div class="collapse-describe col-6	col-sm-6 col-md-3 col-lg-3 col-xl-3">
                    <ul>
                        <li class="sortBy">Price</li>
                        <li class="sortBy" (click)="sortPrice(0,0,true)">All</li>
                        <li class="sortBy" (click)="sortPrice(0,10)">$0.00 - $10.00</li>
                        <li class="sortBy" (click)="sortPrice(10,20)">$10.00 - $20.00</li>
                        <li class="sortBy" (click)="sortPrice(20,30)">$20.00 - $30.00</li>
                        <li class="sortBy" (click)="sortPrice(30,'end')">$30.00+</li>
                    </ul>
                </div>
                <div class="collapse-describe col-6	col-sm-6 col-md-3 col-lg-3 col-xl-3">
                    <ul>
                        <li class="sortBy">Default</li>
                        <li class="sortBy">Popularity</li>
                        <li class="sortBy">Average rating</li>
                        <li class="sortBy">Newness</li>
                        <li class="sortBy">Price: Low to Hight</li>
                        <li class="sortBy">Price: High to Low</li>
                    </ul>
                </div>
                <div class="collapse-describe col-6	col-sm-6 col-md-3 col-lg-3 col-xl-3">
                    <ul>
                        <li class="collapse-tags">Fashion</li>
                        <li class="collapse-tags">Lifestyle</li>
                        <li class="collapse-tags">clothes</li>
                        <li class="collapse-tags">Street</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="container">
                    <div class="row d-flex justify-content-center">
                        <div class="modal-img col-12 col-sm-12 col-md-6">
                            <div class="container ph-modal">
                                <div class="row">
                                    <div class="modal-image-side col-2 col-sm-2 col-md-2">
                                        <img src="../../../assets/elan-1623085_640.jpg" alt="">
                                        <img src="../../../assets/elan-1623086_640.jpg" alt="">
                                        <img src="../../../assets/elan-1623088_640.jpg" alt="">
                                    </div>
                                    <div class="modal-image-main col-10 col-sm-10 col-md-10">
                                        <img src="../../../assets/elan-1623088_640.jpg" alt="">
                                        <div class="modal-image-main-arrow-left"><i class="fas fa-arrow-circle-left"></i></div>
                                        <div class="modal-image-main-arrow-right"><i class="fas fa-arrow-circle-right"></i></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="modal-describe col-12 col-sm-12 col-md-6">
                            <div class="modal-describe-title">{{ modalItem?.name }}</div>
                            <div class="modal-describe-price">Price: <span>$ {{ convertString(modalItem?.price) }}</span></div>
                            <div class="modal-describe-specification">{{ modalItem?.describe }}</div>
                            <div class="modal-describe-option d-flex flex-column">
                                <div class="row box-select align-items-center">
                                    <div class="col-2">Size: </div>
                                    <div class="select col-6">
                                        <select [ngModel]="selectedSize" (ngModelChange)="onChangeSize($event)">
                                            <option disabled>Size</option>
                                            <option *ngFor="let size of modalItem?.size" [ngValue]="size">{{ size }}</option>
                                        </select>
                                        <div class="select_arrow"></div>
                                    </div>
                                </div>
                                <div class="row box-select align-items-center">
                                    <span class="col-2">Color: </span>
                                    <div class="select col-6">
                                        <select [ngModel]="selectedColor" (ngModelChange)="onChangeColor($event)">
                                            <option disabled>Color</option>
                                            <option *ngFor="let color of modalItem?.color" [ngValue]="color">{{ color }}</option>
                                        </select>
                                        <div class="select_arrow"></div>
                                    </div>
                                </div>
                                <div class="row d-flex align-items-center">
                                    <div class="quantity-item col-2"></div>
                                    <div class="modal-count-item col-10">
                                        <div class="quantity d-flex flex-row">
                                            <button class="plus-btn" type="button" name="button" (click)="quantityChange(true)">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                            <input [(ngModel)]="quantity" type="text" name="name">
                                            <button class="minus-btn" type="button" name="button" (click)="quantityChange(false)">
                                                <i class="fas fa-minus"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-button-add-to-chart d-flex justify-content-end">
                                    <button data-dismiss="modal" (click)="addItem()">Add to chart</button>
                                </div>
                            </div>
                            <div class="modal-describe-social-media"></div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer"></div>
            </div>
        </div>
    </div>
    <!-- START PRODUCT -->
    <div class="row photos justify-content-center">
        <ng-container *ngFor="let item of shop | paginate: { id: 'shop-pagination', itemsPerPage: 9, currentPage: pageShop }">
            <div class="item-shop-box col-11 col-sm-10 col-md-6 col-lg-4" (click)="checkItem(item._id)">
                <figure class="snip1423" data-toggle="modal" data-target=".bd-example-modal-lg">
                    <div [ngSwitch]="item?.category[0]">
                        <img *ngSwitchCase="'women'" src="../../../assets/woman-3054364_640.jpg" alt="women" />
                        <img *ngSwitchCase="'men'" src="../../../assets/fashion-601553_640.jpg" alt="men" />
                        <img *ngSwitchCase="'accesories'" src="../../../assets/fashion-3159006_640.jpg" alt="accesories" />
                    </div>
                    <figcaption>
                        <h3>{{ item.name }}</h3>
                        <p>{{ item.smallDescribe }}</p>
                        <div class="price">
                            <s>${{ convertString(item.price, 15.00) }}</s>${{ convertString(item.price) }}
                        </div>
                    </figcaption><i class="fas fa-cart-plus"></i>
                </figure>
            </div>
        </ng-container>
        <!-- END PRODUCT -->
    </div>
    <div class="pagi d-flex justify-content-center">
        <nav aria-label="...">
            <ul class="pagination">
                <ng-container *ngFor="let item of site; let i = index">
                    <li class="page-item" (click)="getItems([{name: item.name, info: item.data}])"><a class="page-link">{{ i + 1 }}</a></li>
                </ng-container>
            </ul>
        </nav>
    </div>
</div>
